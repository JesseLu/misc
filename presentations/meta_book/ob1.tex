
\section{The objective-first design problem}
We now build off of the field-solver and the structure-solver,
    as previously outlined,
    by formulating the design problem
    and outlining the objective-first strategy.

\subsection{Design objectives}
A design objective, $f(x)$, is simply defined as
    a function we wish to be minimal 
    for the design to be produced.

For instance, in the design of a device
    which must transmit efficiently into a particular mode,
    we could choose $f(x)$ to be the negative power into that mode.
Or, if the device was to be a low-loss resonator,
    we could choose $f(x)$ to be the amount of power leaking 
    out of the device.

\subsection{Convexity}
Convex optimization quick intro.

\subsection{Typical design formulation}
Typically,
\BA \minimize{x,p} f(x) \\
    \subto g(x, p) = 0 \\
        & p \in {0,1} \EA

\subsection{Objective-first design formulation}
Objective-first does 
\BA \minimize{x,p} \|g(x,p)\|^2 \\
    \subto f(x) = f_\text{ideal} \\
        & 0 \le p \le 1 \EA

This is a bi-convex problem, which we solve using an alternating directions method.

\subsection{Field sub-problem}
\BA \minimize{x} \| A(p) x - b(p) \|^2 \\
    \subto f(x) = f_\text{ideal} \EA

\subsection{Structure sub-problem}
\BA \minimize{p} \| B(x) p - d(x) \|^2 \\
    \subto 0 \le p \le 1 \EA

